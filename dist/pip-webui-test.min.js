!function(){"use strict";var e=angular.module("pipWebuiTests",["pipMocked","pipMocked.Users","pipMocked.Entry","pipMocked.Party","pipMocked.Announcements","pipMocked.Feedbacks","pipMocked.Tips","pipMocked.Guides","pipMocked.ServersActivities","pipMocked.Images","pipGenerators","pipBasicGeneratorServices","pipGenerators.User","pipGenerators.PartyAccess","pipGenerators.Sessions","pipGenerators.Party","pipTestCollection"]);e.run(["pipMockedResource","MockedUsersResource","MockedCurrentUserResource","TruePathResource","MockedSigninResource","MockedSignupResource","MockedSignoutResource","MockedSignupValidateResource","MockedVerifyEmailResource","MockedRecoverPasswordResource","MockedResetPasswordResource","MockedChangePasswordResource","MockedUserSessionsResource","MockedTipsResource","MockedAnnouncementsResource","MockedFeedbacksResource","MockedGuidesResource","MockedImagesResource","MockedPartyResource","MockedServersActivitiesResource",function(e,r,n,t,o,c,s,i,a,u,p,d,l,g,f,k,h,M,v,R){e.addMocks(r),e.addMocks(n),e.addMocks(l),e.addMocks(o),e.addMocks(c),e.addMocks(s),e.addMocks(i),e.addMocks(a),e.addMocks(u),e.addMocks(p),e.addMocks(d),e.addMocks(g),e.addMocks(f),e.addMocks(k),e.addMocks(h),e.addMocks(M),e.addMocks(v),e.addMocks(R),e.addMocks(t),e.registerStandardResources()}])}(),function(){"use strict";var e=angular.module("pipTestCollection",[]);e.factory("TestCollection",["$log",function(e){function r(){return this.generator.name}function n(){return this.collection.length}function t(e){return e&&angular.isArray(e)?(this.collection=_.cloneDeep(e),void(this.size=e.length)):0===this.size?void(this.collection=[]):void(this.collection=this.generator.newObjectList(this.size,this.refs))}function o(){return _.cloneDeep(this.collection)}function c(e){var r=null;return void 0===e||null===e||e<0||e>this.collection.length-1?r:r=_.cloneDeep(this.collection[e])}function s(e,r){var n=null;return void 0===e||null===e?n:(n=_.find(this.collection,{id:e}),n||null)}function i(e){var r=this.generator.initObject(e);return angular.isObject(r)&&this.collection.push(r),r}function a(e,r){var n;return void 0!==e&&null!==e&&angular.isObject(r)?(n=this.findById(e),n=angular.isObject(n)?_.assign(n,r):null):null}function u(e){var r,n=!1;for(r=0;r<this.collection.length;r++)if(this.collection[r].id===e){n=!0,this.collection.splice(r,1);break}return n}function p(e){return!(void 0===e||null===e||e<0||e>this.collection.length-1)&&(this.collection.splice(e,1),!0)}function d(e,r){return r&&angular.isArray(r)?_.cloneDeep(r):e.refs&&angular.isArray(e.refs)?_.cloneDeep(e.refs):new Array}function l(e,r){return r?r:e.name}return function(e,g,f,k){if(!e)throw new Error("TestCollection: generator is required");this.generator=e,this.size=f?f:0,this.refs=d(e,k),this.name=l(e,g),this.collection=[],this.getGeneratorName=r,this.getSize=n,this.init=t,this.getAll=o,this.getByIndex=c,this.findById=s,this.create=i,this.update=a,this.deleteById=u,this.deleteByIndex=p}}])}(),function(){"use strict";var e=angular.module("pipTestDataService",[]);e.factory("pipTestDataService",["pipAreasData","pipGoalsData","$rootScope","pipCollections","NewsUAService","pipEnums",function(e,r,n,t,o,c){return{}}])}(),function(){"use strict";var e=angular.module("pipTestDataSet",[]);e.factory("pipTestDataSet",["$log",function(e){}])}(),function(){"use strict";var e=angular.module("pipGenerators",[]);e.factory("pipDataGenerator",["$log",function(e){var r=function(e,r){this.name=e,this.refs=r,this.initObject=function(e){var r=this.newObject();return e&&(r=_.assign(r,e)),r},this.newObject=function(e){var r=e?e:this.refs,n=this.generateObj(r);return n},this.newObjectList=function(e,r){var n,t,o=[];if(e>0)for(n=0;n<e;n++)t=this.newObject(r),o.push(t);return o},this.initObjectList=function(e){var r,n,t=[];if(count>0)for(r=0;r<count;r++)n=this.newObject(),t.push(_.assign(n,e));return t},this.updateObject=function(e,r){var n=this.newObject(r);return e?n=_.assign(n,e):null},this.generateObj=function(e){return{}}};return r}])}(),function(e,r){"use strict";var n=angular.module("pipBasicGeneratorServices",[]);n.service("pipBasicGeneratorServices",function(){function n(e,n){var t=p+l,o=e||16,c=n||t;return r.string({length:o,pool:c})}function t(){return r.email()}function o(){return a(8)}function c(r){return e.sample(r)}function s(r,n){var t=n?n:Math.floor(Math.random()*r.length);return e.sampleSize(r,t)}function i(e){return e&&(f=e),f}function a(e){var n=e&&e>0?Math.floor(Math.random()*e):null,t=p+d;return r.word({length:n,pool:t})}function u(){var e=r.first()+" "+r.name();return e}var p="abcdefghijklmnopqrstuvwxyz",d="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l="0123456789",g=" .,;:-!?",f="http://alpha.pipservices.net";return{ABCD:p,ABCD_CAPITALIZE:d,DIGIT:l,SIGN:g,getObjectId:n,getOneWord:a,getPassword:o,getEmail:t,serverUrl:i,getName:u,getOne:c,getMany:s}})}(window._,window.chance),function(){"use strict";var e=angular.module("pipGenerators.PartyAccess",[]);e.factory("pipPartyAccessDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log",function(e,r,n){var t=new e("PartyAccess",[]);return t.isContributorChance=30,t.isManagerChance=30,t.defaultShareLevel=0,t.defaultType="partner",t.generateObj=function(){var e=chance.bool({likelihood:t.isContributorChance}),n={share_level:t.defaultShareLevel,type:t.defaultType,party_name:chance.first()+" "+chance.name(),party_id:r.getObjectId(),contributor:chance.bool({likelihood:t.isContributorChance}),manager:!!e&&chance.bool({likelihood:t.isManagerChance}),id:r.getObjectId()};return n},t}])}(),function(){"use strict";var e=angular.module("pipGenerators.Party",[]);e.factory("pipPartyDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log",function(e,r,n){var t=new e("User",["PartyAccess","Sessions"]);return t.defaultType="person",t.defaultJoin="approve",t.generateObj=function(){var e=chance.timestamp(),n=chance.timestamp(),o={name:chance.first()+" "+chance.name(),email:chance.email(),type:t.defaultType,gender:chance.gender().toLowerCase(),loc_name:chance.address(),loc_pos:{type:"Point",coordinates:[chance.floating({min:-120,max:120}),chance.floating({min:-120,max:120})]},join:t.defaultJoin,updated:e>n?new Date(e).toJSON():new Date(n).toJSON(),created:e>n?new Date(n).toJSON():new Date(e).toJSON(),id:r.getObjectId()};return o},t}])}(),function(){"use strict";var e=angular.module("pipGenerators.Sessions",[]);e.factory("pipSessionsDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log",function(e,r,n){var t=new e("Sessions",[]);return t.generateObj=function(){var e=new Date(chance.timestamp()),n={address:chance.ip(),client:r.getOne(["chrome","mozilla","explorer"]),platform:r.getOne(["windows 8","windows 7","linux"]),last_req:e.toJSON(),opened:e.toJSON(),id:r.getObjectId()};return n},t}])}(),function(){"use strict";var e=angular.module("pipGenerators.User",[]);e.factory("pipUserDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log","pipPartyAccessDataGenerator","pipSessionsDataGenerator",function(e,r,n,t,o){var c=new Array;c.PartyAccess=t.newObjectList(10),c.Sessions=o.newObjectList(10);var s=new e("User",c);return s.generateObj=function(e){var n,t=chance.timestamp(),c=chance.timestamp(),s=new Date,i=[],a=[],u=o.initObject({last_req:s.toJSON(),opened:s.toJSON()});return e&&angular.isArray(e)&&(i=e.PartyAccess||[],a=e.Sessions||[]),n={pwd_last_fail:null,pwd_fail_count:0,name:r.getName(),email:chance.email(),language:r.getOne(["en","ru","fr"]),paid:chance.bool({likelihood:30}),admin:!1,party_access:r.getMany(i),sessions:r.getMany(a),signin:t>c?new Date(t).toJSON():new Date(c).toJSON(),signup:t>c?new Date(c).toJSON():new Date(t).toJSON(),active:!0,lock:!1,email_ver:!1,id:r.getObjectId(),last_session_id:u.id},n.sessions.push(u),n},s}])}(),function(){"use strict";var e=angular.module("pipMocked.Announcements",["ngMockE2E","ngResource"]);e.factory("MockedAnnouncementsResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/announcements",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Entry",["ngMockE2E","ngResource"]);e.factory("MockedSigninResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/signin",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedSignupResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/signup",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedSignoutResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/signout",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedSignupValidateResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/signup_validate",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedVerifyEmailResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/verify_email",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedRecoverPasswordResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/recover_password",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedResetPasswordResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/reset_password",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedChangePasswordResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/change_password",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Feedbacks",["ngMockE2E","ngResource"]);e.factory("MockedFeedbacksResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/feedbacks",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Guides",["ngMockE2E","ngResource"]);e.factory("MockedGuidesResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/guides",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Images",["ngMockE2E","ngResource"]);e.factory("MockedImagesResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/image_sets",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Party",["ngMockE2E","ngResource"]);e.factory("MockedPartyResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/parties/",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked",["ngMockE2E","ngResource"]);e.factory("pipMockedResource",function(){function e(){for(var e=0;e<n.length;e++){var r=n[e];r.register()}}function r(e){e&&angular.isObject(e)&&n.push(e)}var n=[];return{addMocks:r,registerStandardResources:e}}),e.factory("MockedResource",["$httpBackend","$log",function(e,r){return this.api="",this.fakeUrl="http://alpha.pipservices.net",this.regEsc=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},this.IdRegExp=/[a-zA-Z0-9]{24}/.toString().slice(1,-1),this.QueryRegExp=/[\d\w-_\.%\s]*$/.toString().slice(1,-1),this.EndStringRegExp=/$/.toString().slice(1,-1),this.register=function(){},this}]),e.factory("TruePathResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.register=function(){e.whenGET(/.*/).passThrough()},t}])}(),function(){"use strict";var e=angular.module("pipMocked.ServersActivities",["ngMockE2E","ngResource"]);e.factory("MockedServersActivitiesResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/servers/activities",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Tips",["ngMockE2E","ngResource"]);e.factory("MockedTipsResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/tips",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Users",["ngMockE2E","ngResource"]);e.factory("MockedCurrentUserResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/users/current",t.register=function(){e.whenGET(t.fakeUrl+t.api).respond(function(e,r,n,t){return console.log("MockedCurrentUserResource whenGET current",n,t),[200,{},{}]})},t}]),e.factory("MockedUsersResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/users",t.register=function(){e.whenGET(t.fakeUrl+t.api).respond(function(e,r,n,t){return console.log("MockedUsersResource whenGET collection",n,t),[200,{},{}]}),e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("MockedUsersResource whenPOST",n,t,o),[200,{},{}]}),e.whenGET(new RegExp(t.regEsc(t.fakeUrl+t.api+"/")+t.IdRegExp+t.EndStringRegExp)).respond(function(e,r,n,t){return console.log("MockedUsersResource whenGET user",n,t),[200,{},{}]}),e.whenPUT(new RegExp(t.regEsc(t.fakeUrl+t.api+"/")+t.IdRegExp+t.EndStringRegExp)).respond(function(e,r,n,t){return console.log("MockedUsersResource whenPUT",n,t),[200,{},{}]}),e.whenDELETE(new RegExp(t.regEsc(t.fakeUrl+t.api+"/")+t.IdRegExp+t.EndStringRegExp)).respond(function(e,r,n,t){return console.log("MockedUsersResource whenPUT",n,t),[200,{},{}]})},t}]),e.factory("MockedUserSessionsResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/users/:party_id/sessions/:id",t.register=function(){e.whenGET(new RegExp(t.regEsc(t.fakeUrl+"/api/users/")+t.IdRegExp+t.regEsc("/sessions"))).respond(function(e,r,n,t){return console.log("MockedUserSessionsResource whenGET current",n,t),[200,{},{}]}),e.whenDELETE(new RegExp(t.regEsc(t.fakeUrl+"/api/users/")+t.IdRegExp+t.regEsc("/sessions/")+t.IdRegExp+t.EndStringRegExp)).respond(function(e,r,n,t){return console.log("MockedUserSessionsResource whenDELETE",n,t),[200,{},{}]})},t}])}();