!function(){"use strict";var e=angular.module("pipWebuiTests",["pipDataGenerator","pipFakeDataModel","pipMocked","pipGenerators","pipGenerators.User","pipTestCollection"]);e.run(["pipMockedResource","MockedResource","MockedUsersResource","TruePathResource",function(e,t,n,r){e.addMocks(r),e.addMocks(n),e.registerStandardResources()}])}(),function(){"use strict";var e=angular.module("pipGenerators",[]);e.factory("pipDataGenerator",["$log",function(e){function t(e){var t;return t}function n(e){var t;return t}function r(e,t){var n=[];return n}function a(e){var t=[];return t}function o(e,t,n){var r;return r}var i=function(e,i){this.name=e,this.refs=i,this.initObject=t,this.newObject=n,this.newObjectList=r,this.initObjectList=a,this.updateObject=o};return i}])}(),function(){"use strict";var e=angular.module("pipTestCollection",[]);e.factory("pipTestCollection",["$log",function(e){var t=function(e){this.constructor(e)};return t}])}(),function(){"use strict";var e=angular.module("pipGenerators.User",[]);e.factory("pipUserDataGenerator",["pipDataGenerator","$log",function(e,t){var n=new e("User","User refs");return n.someproperty=!0,n}])}(),function(){"use strict";var e=angular.module("pipMocked",["ngMockE2E","ngResource"]);e.factory("pipMockedResource",function(){function e(){for(var e=0;e<n.length;e++){var t=n[e];t.register()}}function t(e){console.log("addMocks",e),e&&angular.isObject(e)&&n.push(e)}var n=[];return{addMocks:t,registerStandardResources:e}}),e.factory("MockedResource",["$httpBackend","$log",function(e,t){return this.api="",this.fakeUrl="http://alpha.pipservices.net",this.register=function(){},this}]),e.factory("TruePathResource",["$httpBackend","$log","MockedResource",function(e,t,n){var r=Object.create(n);return r.api="",r.register=function(){e.whenGET(/^(http:\/\/alpha.pipservices.net\/api\/){0}.*?/).passThrough()},r}]),e.factory("MockedUsersResource",["$httpBackend","$log","MockedResource",function(e,t,n){var r=Object.create(n);return r.api="/api/users",r.register=function(){e.whenPOST(r.fakeUrl+r.api).respond(function(e,t,n,r,a){return console.log("MockedUsersResource whenPOST",n,r,a),[200,{},{}]}),e.whenGET(r.fakeUrl+r.api).respond(function(e,t,n,r,a){return console.log("MockedUsersResource whenGET",n,r,a),[200,{},{}]}),e.whenPUT(r.fakeUrl+r.api).respond(function(e,t,n,r,a){return console.log("MockedUsersResource whenPUT",n,r,a),[200,{},{}]})},r}])}(),function(){"use strict";angular.module("pipMocks",["pipMocks.Files","pipMocks.Settings","pipMocks.Entry","pipMocks.Users"])}(),function(){"use strict";var e=angular.module("pipMocks.Entry",["ngMockE2E","ngResource"]);e.run(["$httpBackend","pipFakeDataModelUsers","pipDataGeneratorGeneral",function(e,t,n){var r="/api/signin";console.log("pipMocks.Entry");var a=n.serverUrl();e.whenGET(a+r).respond(function(e,n,r,a,o){var i=(r?JSON.parse(r):{},t.addOne({email:r.email}));return[200,i,i]}),e.whenPOST(a+r).respond(function(e,n,r,a,o){var i=r?JSON.parse(r):{},s=t.addOne({email:i.email});return[200,s,s]}),e.whenGET(/^(http:\/\/alpha.pipservices.net\/api\/){0}.*?/).passThrough()}])}(),function(){"use strict";var e=angular.module("pipMocks.Files",[]);e.config(function(){}),e.run(["$httpBackend",function(e){}])}(),function(){"use strict";var e=angular.module("pipMocks.Settings",[]);e.config(function(){}),e.run(["$httpBackend",function(e){}])}(),function(){"use strict";var e=angular.module("pipMocks.Users",["ngMockE2E","ngResource"]);e.run(["$httpBackend","pipFakeDataModelUsers","pipDataGeneratorGeneral",function(e,t,n){var r="/api/users";console.log("pipMocks.Users");var a=n.serverUrl();e.whenPOST(a+r).respond(function(e,t,n,r,a){return console.log("pipMocks.Users22222",n,r,a),[200,{},{}]})}])}(),function(e){"use strict";var t=angular.module("pipFakeDataModel.Entry",[]);t.service("pipFakeDataModelEntry",["pipTestGeneral",function(e){this.data=[{}]}])}(window._),function(){"use strict";angular.module("pipFakeDataModel",["pipFakeDataModel.Users","pipFakeDataModel.Files","pipFakeDataModel.Settings","pipFakeDataModel.Entry"])}(),function(e){"use strict";var t=angular.module("pipFakeDataModel.Files",[]);t.service("pipFakeDataModelFiles",["pipTestGeneral",function(e){this.data=[{}]}])}(window._),function(e){"use strict";var t=angular.module("pipFakeDataModel.Settings",[]);t.service("pipFakeDataModelSettings",["pipTestGeneral",function(e){this.data=[{}]}])}(window._),function(e){"use strict";var t=angular.module("pipFakeDataModel.Users",[]);t.service("pipFakeDataModelUsers",["pipDataGeneratorGeneral","pipDataGeneratorUserParty",function(t,n){function r(e){var t,r,a=e>0?e:10;for(d=[],r=0;r<a;r++)t=n.getOneUser(),d.push(t);return d}function a(){return d}function o(e){d=e}function i(t){var n=e.find(d,t)||[];return n[0]||null}function s(){return a()}function c(t){var n=e.find(d,t)||[];return n}function u(e){var t;return t=n.getOneUser(e),d.push(t),t}function p(e,t){var n,r=a(),o=null;for(n=0;n<r.length;n++)if(r[n].id==e){o=r[n];break}return angular.isObject(o)?(angular.extend(o,t),o):{}}function l(e){var t,n=a(),r=!1;for(t=0;t<n.length;t++)if(n[t].id==e){r=!0,n.splice(t,1);break}return r}var d=[];return{dataGenerate:r,getData:a,setData:o,findOne:i,findAll:s,findMany:c,addOne:u,updateOne:p,deleteOne:l}}])}(window._),function(){"use strict";angular.module("pipDataGenerator",["pipDataGenerator.General","pipDataGenerator.UserParty"])}(),function(e,t){"use strict";var n=angular.module("pipDataGenerator.UserParty",[]);n.service("pipDataGeneratorUserParty",["pipDataGeneratorGeneral",function(n){function r(r){var a=new Date(t.timestamp()),o={address:t.ip(),client:n.getOne(["chrome","mozilla","explorer"]),platform:n.getOne(["windows 8","windows 7","linux"]),last_req:a.toJSON(),opened:a.toJSON(),id:n.getObjectId()};return r&&(o=e.assign(o,r)),o}function a(a){var i=t.timestamp(),s=t.timestamp(),c={pwd_last_fail:null,pwd_fail_count:0,name:n.getName(),email:t.email(),language:n.getOne(["en","ru","fr"]),paid:t.bool({likelihood:30}),admin:!1,party_access:o(),sessions:r(),signin:i>s?new Date(i).toJSON():new Date(s).toJSON(),signup:i>s?new Date(s).toJSON():new Date(i).toJSON(),active:!0,lock:!1,email_ver:!1,id:n.getObjectId(),last_session_id:n.getObjectId()};return a&&(c=e.assign(c,a)),c}function o(r,a){var o,i,s,c=[],u=r||Math.floor(10*Math.random());for(o=0;o<u;o++)s=t.bool({likelihood:30}),i={share_level:0,type:"partner",party_name:t.first()+" "+t.name(),party_id:n.getObjectId(),contributor:s,manager:!!s&&t.bool({likelihood:30}),id:n.getObjectId()},a&&(i=e.assign(i,a)),c.push(i);return c}function i(r){var a=t.timestamp(),o=t.timestamp(),i={name:t.first()+" "+t.name(),email:t.email(),type:"person",gender:t.gender().toLowerCase(),loc_name:t.address(),loc_pos:{type:"Point",coordinates:[t.floating({min:-120,max:120}),t.floating({min:-120,max:120})]},join:"approve",updated:a>o?new Date(a).toJSON():new Date(o).toJSON(),created:a>o?new Date(o).toJSON():new Date(a).toJSON(),id:n.getObjectId()};return r&&(i=e.assign(i,r)),i}function s(r,a){if(!r||!r.id||!r.name)return null;var o=t.bool({likelihood:30}),i={party_id:r.id,party_type:r.type,party_name:r.name,to_party_id:n.getObjectId(),to_party_name:t.first()+" "+t.name(),to_party_type:"person",type:"partner",share_level:t.integer({min:0,max:4}),accept:"joined",group_ids:[],contributor:o,manager:!!o&&t.bool({likelihood:30}),snoozed:!1,created:new Date(t.timestamp()).toJSON(),id:n.getObjectId()};return a&&(i=e.assign(i,a)),i}return{getOneUser:a,getParty:i,getConnection:s,getPartyAccess:o}}])}(window._,window.chance),function(e,t){"use strict";var n=angular.module("pipDataGenerator.General",[]);n.service("pipDataGeneratorGeneral",function(){function n(e,n){var r=u+l,a=e||16,o=n||r;return t.string({length:a,pool:o})}function r(){return t.email()}function a(){return s(8)}function o(t){return e.sample(t)}function i(e){return e&&(f=e),f}function s(e){var n=e&&e>0?Math.floor(Math.random()*e):null,r=u+p;return t.word({length:n,pool:r})}function c(){var e=t.first()+" "+t.name();return e}var u="abcdefghijklmnopqrstuvwxyz",p="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l="0123456789",d=" .,;:-!?",f="http://alpha.pipservices.net";return{ABCD:u,ABCD_CAPITALIZE:p,DIGIT:l,SIGN:d,getObjectId:n,getOneWord:s,getPassword:a,getEmail:r,serverUrl:i,getName:c,getOne:o}})}(window._,window.chance);