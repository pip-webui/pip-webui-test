!function(){"use strict";var e=angular.module("pipWebuiTests",["pipDataGenerator","pipFakeDataModel","pipMocked","pipMocked.Users","pipMocked.Entry","pipMocked.Party","pipMocked.Announcements","pipMocked.Feedbacks","pipMocked.Tips","pipMocked.Guides","pipMocked.ServersActivities","pipMocked.Images","pipGenerators","pipGenerators.User","pipTestCollection"]);e.run(["pipMockedResource","MockedUsersResource","MockedCurrentUserResource","TruePathResource","MockedSigninResource","MockedSignupResource","MockedSignoutResource","MockedSignupValidateResource","MockedVerifyEmailResource","MockedRecoverPasswordResource","MockedResetPasswordResource","MockedChangePasswordResource","MockedUserSessionsResource","MockedTipsResource","MockedAnnouncementsResource","MockedFeedbacksResource","MockedGuidesResource","MockedImagesResource","MockedPartyResource","MockedServersActivitiesResource",function(e,r,n,t,o,a,c,s,i,u,p,d,l,g,k,f,M,h,v,R){e.addMocks(r),e.addMocks(n),e.addMocks(l),e.addMocks(o),e.addMocks(a),e.addMocks(c),e.addMocks(s),e.addMocks(i),e.addMocks(u),e.addMocks(p),e.addMocks(d),e.addMocks(g),e.addMocks(k),e.addMocks(f),e.addMocks(M),e.addMocks(h),e.addMocks(v),e.addMocks(R),e.addMocks(t),e.registerStandardResources()}])}(),function(){"use strict";var e=angular.module("pipGenerators",[]);e.factory("pipDataGenerator",["$log",function(e){function r(e){var r;return r}function n(e){var r;return r}function t(e,r){var n=[];return n}function o(e){var r=[];return r}function a(e,r,n){var t;return t}var c=function(e,c){this.name=e,this.refs=c,this.initObject=r,this.newObject=n,this.newObjectList=t,this.initObjectList=o,this.updateObject=a};return c}])}(),function(){"use strict";var e=angular.module("pipTestCollection",[]);e.factory("pipTestCollection",["$log",function(e){var r=function(e){this.constructor(e)};return r}])}(),function(){"use strict";var e=angular.module("pipGenerators.User",[]);e.factory("pipUserDataGenerator",["pipDataGenerator","$log",function(e,r){var n=new e("User","User refs");return n.someproperty=!0,n}])}(),function(){"use strict";angular.module("pipMocks",["pipMocks.Files","pipMocks.Settings","pipMocks.Entry","pipMocks.Users"])}(),function(){"use strict";var e=angular.module("pipMocks.Entry",["ngMockE2E","ngResource"]);e.run(["$httpBackend","pipFakeDataModelUsers","pipDataGeneratorGeneral",function(e,r,n){var t="/api/signin";console.log("pipMocks.Entry");var o=n.serverUrl();e.whenGET(o+t).respond(function(e,n,t,o,a){var c=(t?JSON.parse(t):{},r.addOne({email:t.email}));return[200,c,c]}),e.whenPOST(o+t).respond(function(e,n,t,o,a){var c=t?JSON.parse(t):{},s=r.addOne({email:c.email});return[200,s,s]}),e.whenGET(/^(http:\/\/alpha.pipservices.net\/api\/){0}.*?/).passThrough()}])}(),function(){"use strict";var e=angular.module("pipMocks.Files",[]);e.config(function(){}),e.run(["$httpBackend",function(e){}])}(),function(){"use strict";var e=angular.module("pipMocks.Settings",[]);e.config(function(){}),e.run(["$httpBackend",function(e){}])}(),function(){"use strict";var e=angular.module("pipMocks.Users",["ngMockE2E","ngResource"]);e.run(["$httpBackend","pipFakeDataModelUsers","pipDataGeneratorGeneral",function(e,r,n){var t="/api/users";console.log("pipMocks.Users");var o=n.serverUrl();e.whenPOST(o+t).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})}])}(),function(){"use strict";var e=angular.module("pipMocked.Announcements",["ngMockE2E","ngResource"]);e.factory("MockedAnnouncementsResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/announcements",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Entry",["ngMockE2E","ngResource"]);e.factory("MockedSigninResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/signin",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedSignupResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/signup",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedSignoutResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/signout",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedSignupValidateResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/signup_validate",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedVerifyEmailResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/verify_email",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedRecoverPasswordResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/recover_password",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedResetPasswordResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/reset_password",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}]),e.factory("MockedChangePasswordResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/change_password",t.register=function(){e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("pipMocks.Users22222",n,t,o),[200,{},{}]})},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Feedbacks",["ngMockE2E","ngResource"]);e.factory("MockedFeedbacksResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/feedbacks",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Guides",["ngMockE2E","ngResource"]);e.factory("MockedGuidesResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/guides",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Images",["ngMockE2E","ngResource"]);e.factory("MockedImagesResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/image_sets",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Party",["ngMockE2E","ngResource"]);e.factory("MockedPartyResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/parties/",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked",["ngMockE2E","ngResource"]);e.factory("pipMockedResource",function(){function e(){for(var e=0;e<n.length;e++){var r=n[e];r.register()}}function r(e){console.log("addMocks",e),e&&angular.isObject(e)&&n.push(e)}var n=[];return{addMocks:r,registerStandardResources:e}}),e.factory("MockedResource",["$httpBackend","$log",function(e,r){return this.api="",this.fakeUrl="http://alpha.pipservices.net",this.regEsc=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},this.IdRegExp=/[a-zA-Z0-9]{24}/.toString().slice(1,-1),this.QueryRegExp=/[\d\w-_\.%\s]*$/.toString().slice(1,-1),this.EndStringRegExp=/$/.toString().slice(1,-1),this.register=function(){},this}]),e.factory("TruePathResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.register=function(){e.whenGET(/.*/).passThrough()},t}])}(),function(){"use strict";var e=angular.module("pipMocked.ServersActivities",["ngMockE2E","ngResource"]);e.factory("MockedServersActivitiesResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/servers/activities",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Tips",["ngMockE2E","ngResource"]);e.factory("MockedTipsResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/tips",t.register=function(){},t}])}(),function(){"use strict";var e=angular.module("pipMocked.Users",["ngMockE2E","ngResource"]);e.factory("MockedCurrentUserResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/users/current",t.register=function(){e.whenGET(t.fakeUrl+t.api).respond(function(e,r,n,t){return console.log("MockedCurrentUserResource whenGET current",n,t),[200,{},{}]})},t}]),e.factory("MockedUsersResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/users",t.register=function(){e.whenGET(t.fakeUrl+t.api).respond(function(e,r,n,t){return console.log("MockedUsersResource whenGET collection",n,t),[200,{},{}]}),e.whenPOST(t.fakeUrl+t.api).respond(function(e,r,n,t,o){return console.log("MockedUsersResource whenPOST",n,t,o),[200,{},{}]}),e.whenGET(new RegExp(t.regEsc(t.fakeUrl+t.api+"/")+t.IdRegExp+t.EndStringRegExp)).respond(function(e,r,n,t){return console.log("MockedUsersResource whenGET user",n,t),[200,{},{}]}),e.whenPUT(new RegExp(t.regEsc(t.fakeUrl+t.api+"/")+t.IdRegExp+t.EndStringRegExp)).respond(function(e,r,n,t){return console.log("MockedUsersResource whenPUT",n,t),[200,{},{}]}),e.whenDELETE(new RegExp(t.regEsc(t.fakeUrl+t.api+"/")+t.IdRegExp+t.EndStringRegExp)).respond(function(e,r,n,t){return console.log("MockedUsersResource whenPUT",n,t),[200,{},{}]})},t}]),e.factory("MockedUserSessionsResource",["$httpBackend","$log","MockedResource",function(e,r,n){var t=Object.create(n);return t.api="/api/users/:party_id/sessions/:id",t.register=function(){e.whenGET(new RegExp(t.regEsc(t.fakeUrl+"/api/users/")+t.IdRegExp+t.regEsc("/sessions"))).respond(function(e,r,n,t){return console.log("MockedUserSessionsResource whenGET current",n,t),[200,{},{}]}),e.whenDELETE(new RegExp(t.regEsc(t.fakeUrl+"/api/users/")+t.IdRegExp+t.regEsc("/sessions/")+t.IdRegExp+t.EndStringRegExp)).respond(function(e,r,n,t){return console.log("MockedUserSessionsResource whenDELETE",n,t),[200,{},{}]})},t}])}(),function(e){"use strict";var r=angular.module("pipFakeDataModel.Entry",[]);r.service("pipFakeDataModelEntry",["pipTestGeneral",function(e){this.data=[{}]}])}(window._),function(){"use strict";angular.module("pipFakeDataModel",["pipFakeDataModel.Users","pipFakeDataModel.Files","pipFakeDataModel.Settings","pipFakeDataModel.Entry"])}(),function(e){"use strict";var r=angular.module("pipFakeDataModel.Files",[]);r.service("pipFakeDataModelFiles",["pipTestGeneral",function(e){this.data=[{}]}])}(window._),function(e){"use strict";var r=angular.module("pipFakeDataModel.Settings",[]);r.service("pipFakeDataModelSettings",["pipTestGeneral",function(e){this.data=[{}]}])}(window._),function(e){"use strict";var r=angular.module("pipFakeDataModel.Users",[]);r.service("pipFakeDataModelUsers",["pipDataGeneratorGeneral","pipDataGeneratorUserParty",function(r,n){function t(e){var r,t,o=e>0?e:10;for(l=[],t=0;t<o;t++)r=n.getOneUser(),l.push(r);return l}function o(){return l}function a(e){l=e}function c(r){var n=e.find(l,r)||[];return n[0]||null}function s(){return o()}function i(r){var n=e.find(l,r)||[];return n}function u(e){var r;return r=n.getOneUser(e),l.push(r),r}function p(e,r){var n,t=o(),a=null;for(n=0;n<t.length;n++)if(t[n].id==e){a=t[n];break}return angular.isObject(a)?(angular.extend(a,r),a):{}}function d(e){var r,n=o(),t=!1;for(r=0;r<n.length;r++)if(n[r].id==e){t=!0,n.splice(r,1);break}return t}var l=[];return{dataGenerate:t,getData:o,setData:a,findOne:c,findAll:s,findMany:i,addOne:u,updateOne:p,deleteOne:d}}])}(window._),function(){"use strict";angular.module("pipDataGenerator",["pipDataGenerator.General","pipDataGenerator.UserParty"])}(),function(e,r){"use strict";var n=angular.module("pipDataGenerator.UserParty",[]);n.service("pipDataGeneratorUserParty",["pipDataGeneratorGeneral",function(n){function t(t){var o=new Date(r.timestamp()),a={address:r.ip(),client:n.getOne(["chrome","mozilla","explorer"]),platform:n.getOne(["windows 8","windows 7","linux"]),last_req:o.toJSON(),opened:o.toJSON(),id:n.getObjectId()};return t&&(a=e.assign(a,t)),a}function o(o){var c=r.timestamp(),s=r.timestamp(),i={pwd_last_fail:null,pwd_fail_count:0,name:n.getName(),email:r.email(),language:n.getOne(["en","ru","fr"]),paid:r.bool({likelihood:30}),admin:!1,party_access:a(),sessions:t(),signin:c>s?new Date(c).toJSON():new Date(s).toJSON(),signup:c>s?new Date(s).toJSON():new Date(c).toJSON(),active:!0,lock:!1,email_ver:!1,id:n.getObjectId(),last_session_id:n.getObjectId()};return o&&(i=e.assign(i,o)),i}function a(t,o){var a,c,s,i=[],u=t||Math.floor(10*Math.random());for(a=0;a<u;a++)s=r.bool({likelihood:30}),c={share_level:0,type:"partner",party_name:r.first()+" "+r.name(),party_id:n.getObjectId(),contributor:s,manager:!!s&&r.bool({likelihood:30}),id:n.getObjectId()},o&&(c=e.assign(c,o)),i.push(c);return i}function c(t){var o=r.timestamp(),a=r.timestamp(),c={name:r.first()+" "+r.name(),email:r.email(),type:"person",gender:r.gender().toLowerCase(),loc_name:r.address(),loc_pos:{type:"Point",coordinates:[r.floating({min:-120,max:120}),r.floating({min:-120,max:120})]},join:"approve",updated:o>a?new Date(o).toJSON():new Date(a).toJSON(),created:o>a?new Date(a).toJSON():new Date(o).toJSON(),id:n.getObjectId()};return t&&(c=e.assign(c,t)),c}function s(t,o){if(!t||!t.id||!t.name)return null;var a=r.bool({likelihood:30}),c={party_id:t.id,party_type:t.type,party_name:t.name,to_party_id:n.getObjectId(),to_party_name:r.first()+" "+r.name(),to_party_type:"person",type:"partner",share_level:r.integer({min:0,max:4}),accept:"joined",group_ids:[],contributor:a,manager:!!a&&r.bool({likelihood:30}),snoozed:!1,created:new Date(r.timestamp()).toJSON(),id:n.getObjectId()};return o&&(c=e.assign(c,o)),c}return{getOneUser:o,getParty:c,getConnection:s,getPartyAccess:a}}])}(window._,window.chance),function(e,r){"use strict";var n=angular.module("pipDataGenerator.General",[]);n.service("pipDataGeneratorGeneral",function(){function n(e,n){var t=u+d,o=e||16,a=n||t;return r.string({length:o,pool:a})}function t(){return r.email()}function o(){return s(8)}function a(r){return e.sample(r)}function c(e){return e&&(g=e),g}function s(e){var n=e&&e>0?Math.floor(Math.random()*e):null,t=u+p;return r.word({length:n,pool:t})}function i(){var e=r.first()+" "+r.name();return e}var u="abcdefghijklmnopqrstuvwxyz",p="ABCDEFGHIJKLMNOPQRSTUVWXYZ",d="0123456789",l=" .,;:-!?",g="http://alpha.pipservices.net";return{ABCD:u,ABCD_CAPITALIZE:p,DIGIT:d,SIGN:l,getObjectId:n,getOneWord:s,getPassword:o,getEmail:t,serverUrl:c,getName:i,getOne:a}})}(window._,window.chance);