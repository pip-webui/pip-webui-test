{"version":3,"sources":["tests.js","generators/data_generators.js","generators/test_collection.js","generators/user_data_generators.js","mocks/pip_mocked_resource.js","old/pip_mocks.js","old/pip_mock_entry.js","old/pip_mock_files.js","old/pip_mock_settings.js","old/pip_mock_users.js","old/data_models/pip_entry_data_model.js","old/data_models/pip_fake_data_model.js","old/data_models/pip_files_data_model.js","old/data_models/pip_settings_data_model.js","old/data_models/pip_users_data_model.js","old/pip_data_generator/pip_data_generator.js","old/pip_data_generator/pip_generate_user_party.js","old/pip_data_generator/pip_generator.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pip-webui-test.js","sourcesContent":["/**\r\n * @file Registration of WebUI tests\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipWebuiTests', [\r\n        'pipDataGenerator',\r\n        'pipFakeDataModel',\r\n        'pipMocked',\r\n\r\n        'pipGenerators',\r\n        'pipGenerators.User',\r\n        'pipTestCollection'\r\n    ]);\r\n\r\n\r\n    thisModule.run(\r\n        ['pipMockedResource', 'MockedResource', 'MockedUsersResource', 'UnMockedResource', function(pipMockedResource, MockedResource, MockedUsersResource, UnMockedResource) {\r\n\r\n            pipMockedResource.addMocks(UnMockedResource);\r\n            pipMockedResource.addMocks(MockedUsersResource);\r\n\r\n            pipMockedResource.registerStandardResources();\r\n\r\n        }]\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file pipDataGenerators\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipGenerators', []);\r\n\r\n    thisModule.factory('pipDataGenerator', ['$log', function ($log) {\r\n\r\n        var dataGenerator = function(name, refs) {\r\n            this.name = name;\r\n            // List of references collection names\r\n            this.refs = refs; // string?    \r\n\r\n            this.initObject = initObject;\r\n            this.newObject = newObject;\r\n            this.newObjectList = newObjectList;\r\n            this.initObjectList = initObjectList;\r\n            this.updateObject = updateObject;\r\n        }\r\n            // // Collection name\r\n            // this.name = null;\r\n            // // List of references collection names\r\n            // this.refs = ''; // string?\r\n\r\n            // return {\r\n            //     initObject: initObject,\r\n            //     newObject: newObject,\r\n            //     newObjectList: newObjectList,\r\n            //     initObjectList: initObjectList,\r\n            //     updateObject: updateObject\r\n            // }\r\n\r\n            function initObject(obj) {\r\n                var result;\r\n\r\n                return result;\r\n            }\r\n\r\n            function newObject(refs) {\r\n                var result;\r\n\r\n                return result;                \r\n            }\r\n\r\n            function newObjectList(count, refs) {\r\n                var result = [];\r\n\r\n                return result;                \r\n            }\r\n\r\n            function initObjectList(obj) {\r\n                var result = [];\r\n\r\n                return result;                \r\n            }\r\n\r\n            function updateObject(index, obj, refs) {\r\n                var result;\r\n\r\n                return result;                 \r\n            }\r\n\r\n        return dataGenerator;\r\n\r\n    }]);\r\n\r\n})();\r\n ","/**\r\n * @file pipTestCollection\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipTestCollection', []);\r\n\r\n    thisModule.factory('pipTestCollection', ['$log', function ($log) {\r\n\r\n        var testCollection = function(generator) { // generator: pipDataGenerator\r\n            this.constructor(generator);\r\n\r\n        }\r\n\r\n\r\n        return testCollection;\r\n\r\n    }]);\r\n\r\n})();","/**\r\n * @file pipUserDataGenerators\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipGenerators.User', []);\r\n\r\n    thisModule.factory('pipUserDataGenerator', ['pipDataGenerator', '$log', function (pipDataGenerator, $log) {\r\n            // var child = Object.create(pipDataGenerator);\r\n            var child = new pipDataGenerator('User', 'User refs');\r\n\r\n            child.someproperty = true;\r\n\r\n            return child;\r\n    }]);\r\n\r\n})();\r\n ","/**\r\n * @file pipMocked\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMocked', ['ngMockE2E', 'ngResource']);\r\n\r\n    thisModule.factory('pipMockedResource', function () {\r\n\r\n        // var newFakeServerUrl = '';\r\n\r\n        var mocks = [];\r\n\r\n        // this.fakeServerUrl = function (newFakeServerUrl) {\r\n        //     if (newFakeServerUrl)\r\n        //         fakeServerUrl = newFakeServerUrl;\r\n        //     return newFakeServerUrl;\r\n        // };\r\n\r\n        return {\r\n            addMocks: addMocks,\r\n            registerStandardResources: registerStandardResources\r\n        };\r\n\r\n        function registerStandardResources() {\r\n            for (var i = 0; i < mocks.length; i++) {\r\n                var obj = mocks[i];\r\n                obj.register();\r\n            }\r\n        }\r\n\r\n        function registerSampleResources() {\r\n\r\n        }\r\n\r\n        function addMocks(extension) {\r\n            console.log('addMocks', extension);\r\n            if (extension && angular.isObject(extension)) {\r\n                mocks.push(extension);\r\n            }\r\n        };\r\n\r\n    });\r\n\r\n    thisModule.factory('MockedResource', ['$httpBackend', '$log', function ($httpBackend, $log) {\r\n            this.api = '';\r\n            this.fakeUrl = 'http://alpha.pipservices.net';\r\n\r\n            this.register = function() {}\r\n\r\n        return this;\r\n    }]);\r\n\r\n    thisModule.factory('UnMockedResource', ['$httpBackend', '$log', 'MockedResource', function ($httpBackend, $log, MockedResource) {\r\n            var child = Object.create(MockedResource);\r\n\r\n            child.api = '';\r\n\r\n            child.register = function() {\r\n                $httpBackend.whenGET(/^(http:\\/\\/alpha.pipservices.net\\/api\\/){0}.*?/).passThrough();           \r\n            }\r\n            return child;\r\n    }]);\r\n\r\n    thisModule.factory('MockedUsersResource', ['$httpBackend', '$log', 'MockedResource', function ($httpBackend, $log, MockedResource) {\r\n        var child = Object.create(MockedResource);\r\n\r\n        child.api = '/api/users';\r\n\r\n        child.register = function() {\r\n            $httpBackend.whenPOST(child.fakeUrl + child.api).respond(function(method, url, data, headers, params) {\r\n                console.log('pipMocks.Users22222', data, headers, params);\r\n\r\n                return [200, {}, {}];\r\n            }); \r\n        }\r\n\r\n        return child;\r\n    }]);\r\n\r\n})();\r\n ","/**\r\n * @file Mocks for REST API\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* API list\r\n\r\n/api/users/current\r\n/api/users/:id\r\n/api/users/:party_id/sessions/:id\r\n/api/parties/:id\r\n\r\n\r\n/api/parties/:party_id/settings\r\n\r\n/api/image_sets/:id\r\n/api/images/search\r\n\r\n/api/guides/:id\r\n/api/tips/:id\r\n/api/feedbacks/:id\r\n/api/announcements/:id\r\n\r\n/api/signup_validate\r\n/api/verify_email\r\n/api/users/:party_id/resend_email_verification\r\n/api/change_password\r\n/api/reset_password\r\n/api/recover_password\r\n/api/signup\r\n/api/signout\r\n/api/signin\r\n*/\r\n\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipMocks', [\r\n        'pipMocks.Files',\r\n        'pipMocks.Settings',\r\n        'pipMocks.Entry',\r\n        'pipMocks.Users'        \r\n    ]);\r\n\r\n})();\r\n","/*\r\n * Mocks for Entry REST API\r\n * (с) Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/*\r\n/api/signin\r\n/api/signup\r\n/api/signout\r\n/api/signup_validate\r\n/api/verify_email\r\n/api/users/:party_id/resend_email_verification\r\n/api/change_password\r\n/api/reset_password\r\n/api/recover_password\r\n*/\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMocks.Entry', ['ngMockE2E', 'ngResource']);\r\n\r\n    thisModule.run(\r\n        ['$httpBackend', 'pipFakeDataModelUsers', 'pipDataGeneratorGeneral', function($httpBackend, pipFakeDataModelUsers, pipDataGeneratorGeneral) {\r\n\r\n            var SIGNIN = '/api/signin',\r\n                SIGNUP = '/api/signup';\r\n        console.log('pipMocks.Entry');\r\n            // config this\r\n            var serverUrl = pipDataGeneratorGeneral.serverUrl();\r\n        \r\n            $httpBackend.whenGET(serverUrl + SIGNIN).respond(function(method, url, data, headers, params) {\r\n                var requestData = data ? JSON.parse(data) : {},\r\n                    user = pipFakeDataModelUsers.addOne({email: data[\"email\"]});\r\n\r\n                return [200, user, user];\r\n            });\r\n       \r\n            $httpBackend.whenPOST(serverUrl + SIGNIN).respond(function(method, url, data, headers, params) {\r\n                var requestData = data ? JSON.parse(data) : {},\r\n                    user = pipFakeDataModelUsers.addOne({email: requestData[\"email\"]});\r\n\r\n                return [200, user, user];\r\n            });\r\n\r\n\r\n            // config this?\r\n            // $httpBackend.whenGET(/samples\\//).passThrough();\r\n            $httpBackend.whenGET(/^(http:\\/\\/alpha.pipservices.net\\/api\\/){0}.*?/).passThrough();\r\n        }]\r\n    );\r\n\r\n})();\r\n","/*\r\n * Mocks for Files REST API\r\n * (с) Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMocks.Files', []);\r\n\r\n    thisModule.config(function() {\r\n\r\n    });\r\n\r\n    thisModule.run(\r\n        ['$httpBackend', function($httpBackend) {\r\n        \r\n          \r\n        }]\r\n    );\r\n\r\n})();\r\n","/*\r\n * Mocks for Settings REST API\r\n * (с) Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMocks.Settings', []);\r\n\r\n    thisModule.config(function() {\r\n\r\n    });\r\n\r\n    thisModule.run(\r\n        ['$httpBackend', function($httpBackend) {\r\n        \r\n          \r\n        }]\r\n    );\r\n\r\n})();\r\n","/*\r\n * Mocks for Users REST API\r\n * (с) Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMocks.Users', ['ngMockE2E', 'ngResource']);\r\n\r\n    thisModule.run(\r\n        ['$httpBackend', 'pipFakeDataModelUsers', 'pipDataGeneratorGeneral', function($httpBackend, pipFakeDataModelUsers, pipDataGeneratorGeneral) {\r\n            var USERS = '/api/users';\r\n\r\n        console.log('pipMocks.Users');\r\n            // config this\r\n            var serverUrl = pipDataGeneratorGeneral.serverUrl();\r\n\r\n       \r\n            $httpBackend.whenPOST(serverUrl + USERS).respond(function(method, url, data, headers, params) {\r\n                console.log('pipMocks.Users22222', data, headers, params);\r\n                return [200, {}, {}];\r\n            });\r\n\r\n        }]\r\n    );\r\n\r\n})();\r\n","/*\r\n *\r\n * (с) Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function (_) {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipFakeDataModel.Entry', []);\r\n\r\n    thisModule.service('pipFakeDataModelEntry', ['pipTestGeneral', function (pipTestGeneral) {\r\n\r\n        this.data = [\r\n            {\r\n\r\n            }     \r\n        ];\r\n        \r\n\r\n    }]);\r\n\r\n})(window._);\r\n","/**\r\n * @file Registration of Fake Data Model\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipFakeDataModel', [\r\n        'pipFakeDataModel.Users',\r\n        'pipFakeDataModel.Files',\r\n        'pipFakeDataModel.Settings',\r\n        'pipFakeDataModel.Entry'\r\n    ]);\r\n\r\n})();\r\n","/*\r\n *\r\n * (с) Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function (_) {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipFakeDataModel.Files', []);\r\n\r\n    thisModule.service('pipFakeDataModelFiles', ['pipTestGeneral', function (pipTestGeneral) {\r\n\r\n        this.data = [\r\n            {\r\n\r\n            }     \r\n        ];\r\n        \r\n\r\n    }]);\r\n\r\n})(window._);\r\n","/*\r\n *\r\n * (с) Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function (_) {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipFakeDataModel.Settings', []);\r\n\r\n    thisModule.service('pipFakeDataModelSettings', ['pipTestGeneral', function (pipTestGeneral) {\r\n\r\n        this.data = [\r\n            {\r\n\r\n            }     \r\n        ];\r\n        \r\n\r\n    }]);\r\n\r\n})(window._);\r\n","/*\r\n *\r\n * (с) Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* global angular */\r\n\r\n(function (_) {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipFakeDataModel.Users', []);\r\n\r\n    thisModule.service('pipFakeDataModelUsers', ['pipDataGeneratorGeneral', 'pipDataGeneratorUserParty', function (pipDataGeneratorGeneral, pipDataGeneratorUserParty) {\r\n\r\n        var usersCollection = [];\r\n\r\n        return {\r\n            dataGenerate: dataGenerate,\r\n            getData: getData,\r\n            setData: setData,\r\n            findOne: findOne,\r\n            findAll: findAll,\r\n            findMany: findMany,\r\n            addOne: addOne,\r\n            updateOne: updateOne,\r\n            deleteOne: deleteOne\r\n        };\r\n\r\n        function dataGenerate (n) {\r\n            var newUser, i,\r\n                length = n > 0 ? n : 10;\r\n\r\n            usersCollection = [];\r\n\r\n            for (i = 0; i < length; i++) {\r\n                newUser = pipDataGeneratorUserParty.getOneUser();\r\n                usersCollection.push(newUser);\r\n            }\r\n\r\n            return usersCollection;\r\n        }\r\n        \r\n        function getData () {\r\n            return usersCollection;\r\n        }\r\n        \r\n        function setData (data) {\r\n            usersCollection = data;\r\n        }\r\n    \r\n        function findOne (params) {\r\n            // find the user that matches that params\r\n            var user = _.find(usersCollection, params) || [];\r\n\r\n            return user[0] || null;\r\n        }\r\n    \r\n        function findAll () {\r\n            return getData();\r\n        }\r\n        \r\n        function findMany(params) {\r\n            var users = _.find(usersCollection, params) || [];\r\n\r\n            return users;\r\n        }\r\n        \r\n        function addOne(data) {\r\n            // must calculate a unique ID to add the new data\r\n            var newUser;\r\n\r\n            newUser = pipDataGeneratorUserParty.getOneUser(data);\r\n            usersCollection.push(newUser);\r\n\r\n            return newUser;\r\n        }\r\n        \r\n        function updateOne(userId, user) {\r\n            // find the user that matches that id\r\n            var users = getData(),\r\n                match = null,\r\n                i;\r\n\r\n            for (i = 0; i < users.length; i++) {\r\n                if(users[i].id == userId) {\r\n                    match = users[i];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if(!angular.isObject(match)) {\r\n                return {};\r\n            }\r\n\r\n            angular.extend(match, user);\r\n\r\n            return match;\r\n        }\r\n        \r\n        function deleteOne (userId) {\r\n            // find the user that matches that id\r\n            var users = getData(),\r\n                match = false, \r\n                i;\r\n\r\n            for (i = 0; i < users.length; i++) {\r\n                if(users[i].id == userId) {\r\n                    match = true;\r\n                    users.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return match;\r\n        }\r\n    }]);\r\n\r\n})(window._);\r\n","/**\r\n * @file Pip Data Generator\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipDataGenerator', [\r\n        'pipDataGenerator.General',\r\n        'pipDataGenerator.UserParty'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Service provides mocked user's party\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n(function (_, chance) {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDataGenerator.UserParty', []);\r\n\r\n    thisModule.service('pipDataGeneratorUserParty', ['pipDataGeneratorGeneral', function (pipDataGeneratorGeneral) {\r\n\r\n        return {\r\n            getOneUser: getOneUser,\r\n            getParty: getParty,\r\n            getConnection: getConnection,\r\n            getPartyAccess: getPartyAccess\r\n        };\r\n\r\n        function getSession(propertyValues) {\r\n            var date = new Date(chance.timestamp()),\r\n                session = {\r\n                    address: chance.ip(),\r\n                    client: pipDataGeneratorGeneral.getOne(['chrome', 'mozilla', 'explorer']),\r\n                    platform: pipDataGeneratorGeneral.getOne(['windows 8', 'windows 7', 'linux']),\r\n                    last_req: date.toJSON(),\r\n                    opened: date.toJSON(),\r\n                    id: pipDataGeneratorGeneral.getObjectId()\r\n                };\r\n\r\n            if (propertyValues) {\r\n                session = _.assign(session, propertyValues);\r\n            }\r\n\r\n            return session;\r\n        }\r\n\r\n        // get user for testing\r\n        function getOneUser(propertyValues) {\r\n            var date1 = chance.timestamp(),\r\n                date2 = chance.timestamp(),\r\n\r\n                user = {\r\n                    pwd_last_fail: null,\r\n                    pwd_fail_count: 0,\r\n                    name: pipDataGeneratorGeneral.getName(),\r\n                    email: chance.email(),\r\n                    language: pipDataGeneratorGeneral.getOne(['en', 'ru', 'fr']),\r\n                    paid: chance.bool({likelihood: 30}),\r\n                    admin: false,\r\n                    party_access: getPartyAccess(),\r\n                    sessions: getSession(),\r\n                    signin: date1 > date2 ? new Date(date1).toJSON() : new Date(date2).toJSON(),\r\n                    signup: date1 > date2 ? new Date(date2).toJSON() : new Date(date1).toJSON(),\r\n                    active: true,\r\n                    lock: false,\r\n                    email_ver: false,\r\n                    id: pipDataGeneratorGeneral.getObjectId(),\r\n                    last_session_id: pipDataGeneratorGeneral.getObjectId()\r\n                };\r\n\r\n            if (propertyValues) {\r\n                user = _.assign(user, propertyValues);\r\n            }\r\n\r\n            return user;\r\n        }\r\n\r\n        function getPartyAccess(n, propertyValues) {\r\n            var result = [],\r\n                length = n || Math.floor(Math.random() * 10),\r\n                i,\r\n                p,\r\n                isContributor;\r\n\r\n            for (i = 0; i < length; i++) {\r\n                isContributor = chance.bool({likelihood: 30});\r\n\r\n                p = {\r\n                    share_level: 0,\r\n                    type: 'partner',\r\n                    party_name: chance.first() + ' ' + chance.name(),\r\n                    party_id: pipDataGeneratorGeneral.getObjectId(),\r\n                    contributor: isContributor,\r\n                    manager: isContributor ? chance.bool({likelihood: 30}) : false,\r\n                    id: pipDataGeneratorGeneral.getObjectId()\r\n                };\r\n\r\n                if (propertyValues) {\r\n                    p = _.assign(p, propertyValues);\r\n                }\r\n\r\n                result.push(p);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        function getParty(propertyValues) {\r\n            var date1 = chance.timestamp(),\r\n                date2 = chance.timestamp(),\r\n                party = {\r\n                    name: chance.first() + ' ' + chance.name(),\r\n                    email: chance.email(),\r\n                    type: 'person', // todo ??\r\n                    gender: chance.gender().toLowerCase(),\r\n                    loc_name: chance.address(),\r\n                    loc_pos: {\r\n                        type: 'Point',\r\n                        coordinates: [\r\n                            chance.floating({min: -120, max: 120}),\r\n                            chance.floating({min: -120, max: 120})\r\n                        ]\r\n                    },\r\n                    join: 'approve', // todo ??\r\n                    updated: date1 > date2 ? new Date(date1).toJSON() : new Date(date2).toJSON(),\r\n                    created: date1 > date2 ? new Date(date2).toJSON() : new Date(date1).toJSON(),\r\n                    id: pipDataGeneratorGeneral.getObjectId()\r\n                };\r\n\r\n            if (propertyValues) {\r\n                party = _.assign(party, propertyValues);\r\n            }\r\n\r\n            return party;\r\n        }\r\n\r\n        function getConnection(party, propertyValues) {\r\n            if (!party || !party.id || !party.name) {\r\n                return null;\r\n            }\r\n\r\n            var isContributor = chance.bool({likelihood: 30}),\r\n                con = {\r\n                    party_id: party.id,\r\n                    party_type: party.type,\r\n                    party_name: party.name,\r\n                    to_party_id: pipDataGeneratorGeneral.getObjectId(),\r\n                    to_party_name: chance.first() + ' ' + chance.name(),\r\n                    to_party_type: 'person', // todo\r\n                    type: 'partner', // todo\r\n                    share_level: chance.integer({min: 0, max: 4}),\r\n                    accept: 'joined', // todo\r\n                    group_ids: [],\r\n                    contributor: isContributor,\r\n                    manager: isContributor ? chance.bool({likelihood: 30}) : false,\r\n                    snoozed: false,\r\n                    created: new Date(chance.timestamp()).toJSON(),\r\n                    id: pipDataGeneratorGeneral.getObjectId()\r\n                };\r\n\r\n            if (propertyValues) {\r\n                con = _.assign(con, propertyValues);\r\n            }\r\n\r\n            return con;\r\n        }\r\n\r\n    }]);\r\n\r\n})(window._, window.chance);\r\n","/**\r\n * @file Service provide utils\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n(function (_, chance) {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipDataGenerator.General', []);\r\n\r\n    thisModule.service('pipDataGeneratorGeneral', function () {\r\n        \r\n        var ABCD = 'abcdefghijklmnopqrstuvwxyz',\r\n            ABCD_CAPITALIZE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',\r\n            DIGIT = '0123456789',\r\n            SIGN = ' .,;:-!?',\r\n\r\n            SERVER_URL = 'http://alpha.pipservices.net';\r\n\r\n        return {\r\n            ABCD: ABCD,\r\n            ABCD_CAPITALIZE: ABCD_CAPITALIZE,\r\n            DIGIT: DIGIT,\r\n            SIGN: SIGN,\r\n\r\n            getObjectId: getObjectId,\r\n            getOneWord: getOneWord,\r\n            getPassword: getPassword,\r\n            getEmail: getEmail,\r\n            serverUrl:serverUrl,\r\n            getName: getName,\r\n            getOne: getOne\r\n        };\r\n\r\n        // Returns random ID\r\n        function getObjectId(n, allowedChars) {\r\n            var poolObjectId = ABCD + DIGIT,\r\n                length = n || 16,\r\n                pool = allowedChars || poolObjectId;\r\n\r\n            return chance.string({length: length, pool: pool});\r\n        }\r\n\r\n        function getEmail() {\r\n            return chance.email();\r\n        }\r\n\r\n        function getPassword() {\r\n            return getOneWord(8);\r\n        }\r\n\r\n        // Returns random one from the passed asset\r\n        function getOne(arr) {\r\n            return _.sample(arr);\r\n        }\r\n\r\n        function serverUrl(serverUrl) {\r\n            if (serverUrl) {\r\n                SERVER_URL = serverUrl;\r\n            }\r\n\r\n            return SERVER_URL;\r\n        }\r\n\r\n        // Returns random word\r\n        function getOneWord(n) {\r\n            var length = n && n > 0 ? Math.floor(Math.random() * n) : null,\r\n                poolWord = ABCD + ABCD_CAPITALIZE;\r\n\r\n            return chance.word({length: length, pool: poolWord});\r\n        }\r\n\r\n        function getName() {\r\n            var name = chance.first() + ' ' + chance.name();\r\n\r\n            return name;\r\n        }\r\n\r\n    });\r\n\r\n})(window._, window.chance);\r\n"],"sourceRoot":"/source/"}